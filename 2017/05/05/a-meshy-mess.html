

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    

    <meta name="description" content="The Crownstone mesh software.">

    

    

    <meta name="keywords" content=", smart home, smart homes, domotica, smart plug, home automation, power plug, gadgets, apple, open-source, raspberry pi, smart outlet, smart switch, arduino, alexa, amazon echo, nest, toon, philips hue, homewizard, fibaro, klik-aan-klik-uit, energy savings, comfort">
    
    <meta name="author" content="Crownstone B.V.">
    <link rel="icon" type="image/x-icon" href="https://crownstone.rocks/images/favicon.ico?">
    <link rel="apple-touch-icon" href="https://crownstone.rocks/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://crownstone.rocks/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://crownstone.rocks/images/apple-touch-icon-114x114.png">

    <meta name="theme-color" content="#ff8400">
    <meta name="msapplication-navbutton-color" content="#ff8400">
    <meta name="apple-mobile-web-app-status-bar-style" content="#ff8400">

    <meta http-equiv="Content-Language" content="en">
<link rel="alternate" hreflang="en" href=" https://crownstone.rocks/2017/05/05/a-meshy-mess"/>
<link rel="alternate" hreflang="nl" href="https://crownstone.rocks/nl/2017/05/05/a-meshy-mess"/>


    <meta name="google-site-verification" content="qsSndPwnJ3H5zpj9z6ZvY-r4WnvSpMBe5QchxVbIWvw" />

    
    <title>Crownstone | A meshy mess</title>
    <!-- Bootstrap as framework -->
    <link href="/assets/themes/flat/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/flat/css/crownstone-global.css" rel="stylesheet">
    <link href="/assets/themes/flat/css/elusive-icons.min.css" rel="stylesheet">
    <link href="/assets/themes/flat/css/syntax.css" rel="stylesheet">
	<!-- Open graph social card -->
	<meta property="og:type" content="website">
	<meta property="og:title" content="A meshy mess">
	<meta property="og:url" content="https://crownstone.rocks/2017/05/05/a-meshy-mess">
	<meta property="og:image" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
	<meta property="og:image:secure_url" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
	<meta property="og:description" content="The Crownstone mesh software.">
	<meta property="og:site_name" content="Crownstone">
	<!-- Open graph socal card for LinkedIn -->
	<meta name="title" property="og:title" content="A meshy mess">
	<meta name="image" property="og:image" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
	<meta name="description" property="og:description" content="The Crownstone mesh software.">
	<!-- Twitter social card -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:title" content="A meshy mess">
	<meta name="twitter:description" content="The Crownstone mesh software.">
	<meta name="twitter:image" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
	<meta name="twitter:image:width" content="240">
	<meta name="twitter:image:height" content="240">
    <!-- 
    <link href="/assets/themes/flat/css/elusive-webfont.css" rel="stylesheet"> 
    -->
    <!--[if lt IE 9]>
        <script src="/assets/themes/flat/resources/respond/Respond.min.js"></script>
    <![endif]-->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--[if gt IE 9]>
    <link href="./bootstrap/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> 
    <![endif]-->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    

    
    
    
</head>

<body>

   <nav class="navbar navbar-light navbar-expand-lg">
      <div class="container navContainer">
         <img class="navbar-brand topLogo xs img-responsive" src="/images/apple-touch-icon-114x114.png" alt="">
         <div class="crownstoneText d-block d-lg-none">Crownstone</div>

         <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarContents" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
         </button>

         <div class="collapse navbar-collapse" id="navbarContents">
            <ul class="navbar-nav">
                                                                                                             
				<li class="nav-item inactive "><a href="/" class="nav-link">Home</a></li>
				<li class="nav-item inactive "><a href="/technology-consumer/" class="nav-link">Tech</a></li>
				<li class="nav-item inactive "><a href="/scenarios/" class="nav-link">Scenarios</a></li>
				<li class="nav-item inactive "><a href="/blog/" class="nav-link">Blog</a></li>
				<li class="nav-item inactive "><a href="/jobs/" class="nav-link">Jobs</a></li>
				<li class="nav-item inactive "><a href="/team/" class="nav-link">Team</a></li>
          	<li class="nav-item"><a href="/search/" class="nav-link active"><i class="el el-search"></i></a></li>
                       

            </ul>
            <ul class="navbar-nav mr-right">
               
<li class="nav-item">
	
	
	<!-- note the space before nav-url, without it polyglot will relativize it: https://github.com/untra/polyglot -->
	<a style="font-weight: bold;" href=" https://crownstone.rocks/2017/05/05/a-meshy-mess" class="nav-link">en</a>
</li>

<li class="nav-item">
	
	
	<!-- note the space before nav-url, without it polyglot will relativize it: https://github.com/untra/polyglot -->
	<a  href=" https://crownstone.rocks/nl/2017/05/05/a-meshy-mess" class="nav-link">nl</a>
</li>

<li class="nav-item accent">
	<a href="https://shop.crownstone.rocks?launch=en&ref=http://crownstone.rocks/en/2017/05/05/a-meshy-mess" class="nav-link">
		
		Shop
		
		<i class="el el-shopping-cart"></i>
	</a>
</li>
<li class="nav-item accent">
	<a href="https://subscribe.crownstone.rocks/welcome?dest=smarthome&launch=en&ref=http://crownstone.rocks/en/2017/05/05/a-meshy-mess" class="nav-link">
		
		Subscription
		
		<i class="el el-person"></i>
	</a>
</li>

            </ul>
         </div>
      </div>
   </nav>









<div class="container-fluid post-container">
	<div class="container">
		<div class="row post-full">
			<div class="col-md-12">
				
				<div class="date d-none d-lg-block">
					<strong class="date_month">May</strong>
					<strong class="date_day">5</strong>
					<strong class="date_year">2017</strong>
				</div>
				
				
				<div class="author-block">
					
					<img src="https://secure.gravatar.com/avatar/818dc2df03cd2f1ca7d6e6e701052f0c?s=40">
					
					<span class="author">Anne van Rossum</span>
				</div>
				
				<div class="post">
					<div class="content">
						
<h1 id="header-audio-that-follows-you-around">Audio that follows you around!</h1>

<p>Something fun! As our readers you know we are always advocating hands-free home automation solutions! Of course, Amazon and Google Home are cool, but they still require commands from the user. At times when it doesn’t understand you it can be quite frustrating! Wouldn’t it be cool if your music just follows you from the living room to the kitchen? That’s exactly what <a href="https://www.kien.io/">Kien</a> has been building with our favorite partner <a href="http://www.ams-site.com/">AMS</a>!</p>

<p><a href="https://www.kien.io/collections/all">Preorder with discount!</a></p>

<p>Especially for you as Crownstone enthusiast, we have a nice opportunity! If you use the discount code “CROWNSTONE” at the Kien website you can get an extra 15% discount on top of the 20% existing discount. This offer is valid up to Tuesday, 12 o’clock at night. It’s your chance to contribute to a promising success story!</p>

<h1 id="header-software">Software</h1>

<p>Over the last month we’ve been working hard to deliver the next big update: the mesh! The mesh allows the Crownstones to communicate among each other. To accommodate the increasing amount of asynchronous traffic handled by the app we implemented a new architecture on the mobile phone that we proudly call the “BatchCommandHandler”. This module will batch commands you send to a Crownstone, like the phone heartbeat, the commands you give it, and the automated behaviour on enter and exit of a room. This architecture will allow the smartphone to connect to a single Crownstone that then propagates the request to other Crownstones.</p>

<h1 id="header-tests">Tests</h1>

<p>Our tireless interns have been testing our Crownstones and apps full time! Naturally, we have found many small things that did not work as they should, especially on different types of Android phones. We have formalized a testing protocol for every release to test all features repeatedly. Due to doing many more tests in-house, we spent a lot of time fixing bugs. This means that the all-round performance of the Crownstones is much more reliable with the next update.</p>

<h1 id="header-meshy-details">Meshy details</h1>

<p>So what has been fixed?</p>

<ul>
  <li>Battery saving!</li>
  <li>Strange and unexpected behaviour of the text fields.</li>
  <li>Crownstones still lingering after setup mode.</li>
  <li>Only turn on when it’s dark outside now actually works!</li>
  <li>Fixed bugs in the Promise Manager (which makes sure that everything happens sequentially). When this occurred, no commands could be sent to the Crownstone until the app was killed forcefully.</li>
  <li>Improved heartbeat reliability and switching by going near/further away and enter/exit sphere.</li>
  <li>Reliable switching of Crownstones.</li>
  <li>Improved setup reliability.</li>
  <li>Enter/Exit sphere/rooms and near/further away performance.</li>
</ul>

<p>And what’s new so far?</p>

<ul>
  <li>Subtly getting the current Firmware versions of your Crownstones.</li>
  <li>Mesh interface to show the user if the Crownstones are connected with each other.</li>
  <li>Upgrading the bootloader and firmware of the Crownstones safely.</li>
  <li>App interface for upgrading the bootloader/firmware.</li>
</ul>

<p>What’s more?</p>

<p>Our Cloud service (which allows you to invite users, setup Crownstones, create Spheres, Rooms, Appliances, and provide third-party integration) has had a major upgrade to Loopback version 3! Why do you care you ask?</p>

<ul>
  <li>Downloading firmwares and bootloaders as well as version management and phased roll outs of new versions!</li>
  <li>OAuth2 authentication which lets us hook services like the Amazon Alexa up to our Cloud. This way you can have Alexa turn your lights on and off just by telling her so!</li>
  <li>It paves the road for future extensions (IFTTT, Zapier)</li>
  <li>It will allow usage of a phone or tablet as a hub! A hub would allow switching remotely (via internet) for instance.</li>
  <li>Also, push notifications can now be added, allowing us to show you when other people enter a room in real time without the battery cost of constantly asking the Cloud if anything changed!</li>
</ul>

<p>You’ll notice the app update automatically as soon as it is accepted by the app store reviewers. No need to do anything in particular.</p>

<h1 id="header-energyzero">EnergyZero</h1>

<p>We started this newsletter with an interesting company and we are ending with one as well. Crownstones make it possible to turn on appliances, pumps, or heating elements at moments when the supply is highest. It is anticipated that wind energy and solar energy will cause more and more peaks in the supply. This means that utility companies pay different prices for energy per hour (see <a href="https://www.apxgroup.com/market-results/apx-power-nl/dashboard">APX Power NL dashboard</a>). At EnergyZero people decided that this - and the corresponding benefits - should be available to consumers!</p>

<p><a href="https://www.energyzero.nl/energie-tegen-kostprijs/flexibele-energietarieven/">Read more (Dutch)</a></p>

<p>EnergyZero is the first energy provider that will allow you to pay per hour, super cool! They can do this by using a Spotify-like subscription model of € 9,99 per month and then provide all the energy without any additional margin. Every cent you save, you really save! Their incentive is your incentive!</p>

<p>If you’re a bit tech-savvy you’ll be able to use Crownstones to profit from this and e.g. only turn on pumps or floor heating when it’s cheap. If not, don’t fret, just be a bit patient! :-)</p>

<p>Have a nice weekend and/or <a href="https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/">happy hacking</a>!</p>


					</div>
					
					<div class="d-lg-none">
						<div class="text-date">
							<p>05 May 2017</p> 
						</div>
					</div>

					
		
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">

					
			</div>
		</div>
	</div>
</div>

<div class="container-fluid post-footer">
	<div class="container">
		<div class="row">
			<div class="col-md-6">
					<ul class="pagination">
						
						<li class="page-item prev"><a class="page-link" href="/2017/03/21/watch-out-with-wiring-in-your-home" title="Watch out with wiring in your home!">&larr; Previous</a></li>
						
						<li class="page-item"><a class="page-link" href="/blog">Archive</a></li>
						
						<li class="page-item next"><a class="page-link" href="/2017/06/16/thermostats-and-energy-labels-fail" title="Thermostats and energy labels fail!">Next &rarr;</a></li>
						
					</ul>
			</div>
			<div class="col-md-6">

					<div class="social-button-footer">
						<p>
						<a class="btn btn-social-icon btn-twitter" href="http://twitter.com/intent/tweet?url=https://crownstone.rocks/2017/05/05/a-meshy-mess&text=A meshy mess"><i class="el el-twitter"></i></a>
						<a class="btn btn-social-icon btn-facebook" href="http://facebook.com/sharer.php?u=https://crownstone.rocks/2017/05/05/a-meshy-mess"><i class="el el-facebook"></i></a>
						<a class="btn btn-social-icon btn-googleplus" href="https://plus.google.com/share?url=https://crownstone.rocks/2017/05/05/a-meshy-mess"><i class="el el-googleplus"></i></a>
						<a class="btn btn-social-icon btn-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://crownstone.rocks/2017/05/05/a-meshy-mess"><i class="el el-linkedin"></i></a>
						<a class="btn btn-social-icon btn-reddit" href="http://reddit.com/submit?url=https://crownstone.rocks/2017/05/05/a-meshy-mess&title=A meshy mess"><i class="el el-reddit"></i></a>
						<a class="btn btn-social-icon btn-hackernews" href="https://news.ycombinator.com/submitlink?u=https://crownstone.rocks/2017/05/05/a-meshy-mess&t=A meshy mess"><strong>Y</strong></a>
						</p>
					</div>

			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
					


  <div id="disqus_thread">
	<div class="disqus_block">
		<p>
			<a href="#" onclick="disqus();return false;"><i class="el el-group"></i> Show Comments</a>
		</p>
		<p>
			(not shown automatically to support your privacy)
		</p>
	</div>
</div>

<script type="text/javascript">
	var disqus_shortname = 'crownstone'; 
	var disqus_loaded = false;
	// load disqus comments only on demand
	function disqus() {

	  if (!disqus_loaded)  {
		var e = document.createElement("script");
		e.type = "text/javascript";
		e.async = true;
		e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
		(document.getElementsByTagName("head")[0] ||
		 document.getElementsByTagName("body")[0])
		.appendChild(e);
	  }
	}
</script>





				</div>
			</div>
		</div>
	</div>
</div>






<div class="newsletter bottom">
	<div class="wrapper">
		<form action="//rocks.us10.list-manage.com/subscribe/post?u=d03baf337210e326a61dc14d5&id=a23d3e9ded" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank">
			<label for="Email" class="newsletter__label hidden-label">Sign up to our mailing list</label>
			<div class="input-group">
				<input type="email" value="" placeholder="New things to learn and read!" name="EMAIL" id="Email" class="input-group-field newsletter__input" autocorrect="off" autocapitalize="off">
				<span class="input-group-btn">
					<button type="submit" class="btn newsletter__submit" name="subscribe" id="Subscribe">
					<span class="newsletter__submit-text--large">I like!</span>
					<span class="newsletter__submit-text--small">→</span>
					</button>
				</span>
			</div>
		</form>
	</div>
</div>



<div class="footer">
    <br />
    <div class="container">
        <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <div class="row">
                    <div class="col-sm-4 text-center">
                        <h3>Consumers</h3>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/" class="footer">Home</a></li>
      	    <li><a href="/technology-consumer/" class="footer">Tech</a></li>
      	    <li><a href="/blog/" class="footer">Blog</a></li>
      	    <li><a href="/jobs/" class="footer">Jobs</a></li>
      	    <li><a href="/team/" class="footer">Team</a></li>
      	    <li><a href="/forum/" class="footer">Forum</a></li>
                                
                            </ul>
                        </div>
                    </div>

                    <div class="col-sm-4 text-center">
                        <h3>Business</h3>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/business/" class="footer">Use Cases</a></li>
      	    <li><a href="/business/developers/" class="footer">Developers</a></li>
      	    <li><a href="/business/data/" class="footer">Internet of Things</a></li>
      	    <li><a href="/business/product-development/" class="footer">Product Development</a></li>
      	    <li><a href="/business/residential-real-estate" class="footer">Real Estate Developers</a></li>
      	    <li><a href="/infrastructure/" class="footer">Infrastructure</a></li>
                                
                            </ul>
                        </div>
                        <h3>News</h3>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/email-updates/" class="footer">Fun Newsletter!</a></li>
                                
                            </ul>
                        </div>
                    </div>

                    <div class="col-sm-4 text-center">
                        <h3>Order</h3>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled text-left">
                               <li>
                                  <a class="footer" href="https://shop.crownstone.rocks?launch=en&ref=http://crownstone.rocks/en/2017/05/05/a-meshy-mess">
                                     <i class="el el-shopping-cart footer"></i>
                                     
                                     Webshop
                                     
                                  </a>
                               </li>
                            </ul>
                        </div>
                        <h3>Contact</h3>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled text-left">
                                <li>
                                    <script type="text/javascript">/*<![CDATA[*/var a=new Array(".rocks", "stone", "crown", "@", "sk", "a");document.write("<a href='mailto:");for(i=a.length-1;i>=0;i--){document.write(a[i])}document.write("?subject=Get in contact' class='footer'><i class='el el-envelope footer'></i>Email us!</a>");/*]]>*/</script>
                                    <noscript><i class="el el-envelope footer"></i>Email team@...</noscript>
                                </li>
                                <li>
                                    <a href="https://wa.me/0031103073955" target="_blank" class="footer">
                                        <i class="el el-phone footer"></i>Whatsapp
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.facebook.com/crownstones/" target="_blank" class="footer">
                                        <i class="el el-facebook footer"></i>Facebook
                                    </a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/CrownstoneRocks" target="_blank" class="footer">
                                        <i class="el el-twitter footer"></i>Twitter
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/channel/UCru1PX6P1JyhsI-OEMXnBdg" target="_blank" class="footer">
                                        <i class="el el-youtube footer"></i>Youtube
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.linkedin.com/company/crownstone" target="_blank" class="footer">
                                        <i class="el el-linkedin footer"></i>Linkedin
                                    </a>
                                </li>
                                <li>
                                   <a href="https://crownstone.rocks/privacy-policy" class="footer">
                                        <i class="el el-ok footer"></i>Privacy
                                    </a>
                                </li>
                                <li>
                                   <a href="https://crownstone.rocks/presskit" class="footer">
                                        <i class="el el-idea footer"></i>Press
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-1"></div>
        </div>
        <br/>
        <div class="row">
            <div class="col-sm-12 text-center colofon">
               <div class="accent">Crownstone</div>
               <p>Stationsplein 45 d1.118</p>
               <p>3013 AK Rotterdam, The Netherlands</p>
               <p>0031103073955 / 010-3073955</p>
               <br/>
               <p>
			   This site uses external services. Cookies for the chat box (<a href="https://replain.cc/terms-and-policies">policies</a>) and the webshop (<a href="https://www.shopify.com/legal/cookies">cookie policy</a>).
               </p>
            </div>
        </div>
    </div>
    <br />
</div>


<script async defer src="https://cdn.simpleanalytics.io/hello.js"></script>
<noscript><img src="https://api.simpleanalytics.io/hello.gif" alt=""></noscript>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-17146802-16', 'auto');
  ga('set', 'allowAdFeatures', false);
  ga('send', 'pageview');
</script>



<!-- in debug mode, Google Chrome complains about .map files, do not worry -->                    
<script type="text/javascript" src="/assets/themes/flat/resources/jquery/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/assets/themes/flat/resources/bootstrap/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!--[if gt IE 9]>
<script type="text/javascript" src="/assets/themes/flat/resources/bootstrap/js/ie10-viewport-bug-workaround.js"></script>
<![endif]-->


<!-- Disable tawk on blog because preferred way of communication is disqus for blog posts. -->


</body>
</html>

